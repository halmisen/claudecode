# TradingView回测指南

## 🎯 回测目标

验证Pine Script策略的商业价值，为Python转换决策提供数据支持。

## 📋 标准回测流程

### 1. 策略加载
- 在TradingView中创建新图表
- 复制Pine Script代码到脚本编辑器
- 保存并添加到图表

### 2. 参数设置标准

#### 时间框架建议
- **日内策略**: 5m, 15m, 1h
- **波段策略**: 4h, 1d (推荐Four Swords v1.4)
- **趋势策略**: 1d, 1w

#### 资产选择
- **加密货币**: BTCUSDT, ETHUSDT, SOLUSDT
- **股票**: SPY, QQQ, AAPL (大盘和蓝筹)
- **时间范围**: 最近2-3年数据

### 3. 关键指标评估

#### 必要指标
| 指标 | 优秀 | 良好 | 可接受 | 不合格 |
|------|------|------|--------|--------|
| 总回报率 | >100% | >50% | >20% | <20% |
| 最大回撤 | <10% | <15% | <25% | >25% |
| 胜率 | >70% | >60% | >50% | <50% |
| 盈亏比 | >2.0 | >1.5 | >1.0 | <1.0 |
| 夏普比率 | >2.0 | >1.5 | >1.0 | <1.0 |

#### 风险评估
- **连续亏损**: 最大连续亏损次数 <5
- **回撤持续时间**: 恢复期 <30天
- **稳定性**: 月度收益稳定性

### 4. 数据记录要求

#### 截图清单
- [ ] 策略概览页面(收益曲线)
- [ ] 详细性能报告
- [ ] 交易列表(最近50笔)
- [ ] 月度/季度收益分布
- [ ] 回撤分析图表

#### 数据导出
- 如可能，导出交易历史CSV
- 记录关键参数设置
- 保存策略代码版本

### 5. 多场景测试

#### 不同市场条件
- **牛市**: 2020-2021, 2023上半年
- **熊市**: 2022全年, 2018
- **震荡市**: 2019, 2023下半年

#### 不同资产类别
- 主流币 vs 山寨币
- 大盘股 vs 小盘股
- 不同行业ETF

## 🔍 结果分析框架

### 定量分析
```
转换价值评分 = (总回报率×0.3) + (胜率×0.25) + (盈亏比×0.25) + (1-最大回撤×0.2)
```

### 定性评估
- **策略复杂度**: 转换难度评估
- **适应性**: 不同市场表现一致性
- **创新性**: 技术指标组合独特性
- **实用性**: 实际交易可操作性

## 📊 决策矩阵

| 评分 | 总回报率 | 胜率 | 回撤 | 决策建议 |
|------|----------|------|------|----------|
| A级 | >80% | >65% | <15% | **立即转换** |
| B级 | 50-80% | 55-65% | 15-20% | **考虑转换** |
| C级 | 20-50% | 45-55% | 20-25% | **优化后转换** |
| D级 | <20% | <45% | >25% | **不建议转换** |

## 🎯 Four Swords v1.4测试计划

### 测试配置
- **时间框架**: 4h, 1d
- **资产**: BTCUSDT, ETHUSDT (2022-2024)
- **目标胜率**: 75%+
- **预期回报**: 年化50%+

### 关注重点
- SQZMOM+WaveTrend组合效果
- 波段持仓时间分布
- 不同市场环境下表现
- 状态管理机制有效性

## 📝 测试报告模板

```
## Four Swords v1.4 TradingView回测报告

### 测试配置
- 策略版本: v1.4
- 时间框架: 4h
- 测试资产: BTCUSDT
- 测试期间: 2022-01-01 to 2024-12-31

### 核心指标
- 总回报率: ___%
- 最大回撤: ___%
- 胜率: ___%
- 盈亏比: ___
- 交易次数: ___

### 转换决策
□ 推荐转换 □ 需要优化 □ 不建议转换

### 备注
[详细分析和建议]
```

---

**下一步**: 完成Four Swords v1.4的TradingView回测，按此指南记录结果